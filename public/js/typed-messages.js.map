{"version":3,"file":null,"sources":["/Users/edwin/github/js-realtime-sdk/typed-messages/src/storage.js","/Users/edwin/github/js-realtime-sdk/typed-messages/src/realtime.js","/Users/edwin/github/js-realtime-sdk/node_modules/inherit/lib/inherit.js","/Users/edwin/github/js-realtime-sdk/node_modules/inherit/index.js","/Users/edwin/github/js-realtime-sdk/typed-messages/src/file-message.js","/Users/edwin/github/js-realtime-sdk/typed-messages/src/image-message.js","/Users/edwin/github/js-realtime-sdk/typed-messages/src/audio-message.js","/Users/edwin/github/js-realtime-sdk/typed-messages/src/video-message.js","/Users/edwin/github/js-realtime-sdk/typed-messages/src/location-message.js"],"sourcesContent":["/* eslint-disable import/no-unresolved */\nimport { File } from 'avoscloud-sdk';\n\nif (!File) {\n  throw new Error('LeanCloud Storage SDK not installed');\n}\n\nexport {\n  File,\n  GeoPoint,\n} from 'avoscloud-sdk';\n","/* eslint-disable import/no-unresolved */\nimport { TypedMessage } from 'leancloud-realtime';\n\nif (!TypedMessage) {\n  throw new Error('LeanCloud Realtime SDK not installed');\n}\n\nexport {\n  TypedMessage,\n  messageType,\n  messageField,\n} from 'leancloud-realtime';\n","/**\n * @module inherit\n * @version 2.2.3\n * @author Filatov Dmitry <dfilatov@yandex-team.ru>\n * @description This module provides some syntax sugar for \"class\" declarations, constructors, mixins, \"super\" calls and static members.\n */\n\n(function(global) {\n\nvar hasIntrospection = (function(){'_';}).toString().indexOf('_') > -1,\n    emptyBase = function() {},\n    hasOwnProperty = Object.prototype.hasOwnProperty,\n    objCreate = Object.create || function(ptp) {\n        var inheritance = function() {};\n        inheritance.prototype = ptp;\n        return new inheritance();\n    },\n    objKeys = Object.keys || function(obj) {\n        var res = [];\n        for(var i in obj) {\n            hasOwnProperty.call(obj, i) && res.push(i);\n        }\n        return res;\n    },\n    extend = function(o1, o2) {\n        for(var i in o2) {\n            hasOwnProperty.call(o2, i) && (o1[i] = o2[i]);\n        }\n\n        return o1;\n    },\n    toStr = Object.prototype.toString,\n    isArray = Array.isArray || function(obj) {\n        return toStr.call(obj) === '[object Array]';\n    },\n    isFunction = function(obj) {\n        return toStr.call(obj) === '[object Function]';\n    },\n    noOp = function() {},\n    needCheckProps = true,\n    testPropObj = { toString : '' };\n\nfor(var i in testPropObj) { // fucking ie hasn't toString, valueOf in for\n    testPropObj.hasOwnProperty(i) && (needCheckProps = false);\n}\n\nvar specProps = needCheckProps? ['toString', 'valueOf'] : null;\n\nfunction getPropList(obj) {\n    var res = objKeys(obj);\n    if(needCheckProps) {\n        var specProp, i = 0;\n        while(specProp = specProps[i++]) {\n            obj.hasOwnProperty(specProp) && res.push(specProp);\n        }\n    }\n\n    return res;\n}\n\nfunction override(base, res, add) {\n    var addList = getPropList(add),\n        j = 0, len = addList.length,\n        name, prop;\n    while(j < len) {\n        if((name = addList[j++]) === '__self') {\n            continue;\n        }\n        prop = add[name];\n        if(isFunction(prop) &&\n                (!hasIntrospection || prop.toString().indexOf('.__base') > -1)) {\n            res[name] = (function(name, prop) {\n                var baseMethod = base[name]?\n                        base[name] :\n                        name === '__constructor'? // case of inheritance from plain function\n                            res.__self.__parent :\n                            noOp,\n                    result = function() {\n                        var baseSaved = this.__base;\n\n                        this.__base = result.__base;\n                        var res = prop.apply(this, arguments);\n                        this.__base = baseSaved;\n\n                        return res;\n                    };\n                result.__base = baseMethod;\n\n                return result;\n            })(name, prop);\n        } else {\n            res[name] = prop;\n        }\n    }\n}\n\nfunction applyMixins(mixins, res) {\n    var i = 1, mixin;\n    while(mixin = mixins[i++]) {\n        res?\n            isFunction(mixin)?\n                inherit.self(res, mixin.prototype, mixin) :\n                inherit.self(res, mixin) :\n            res = isFunction(mixin)?\n                inherit(mixins[0], mixin.prototype, mixin) :\n                inherit(mixins[0], mixin);\n    }\n    return res || mixins[0];\n}\n\n/**\n* Creates class\n* @exports\n* @param {Function|Array} [baseClass|baseClassAndMixins] class (or class and mixins) to inherit from\n* @param {Object} prototypeFields\n* @param {Object} [staticFields]\n* @returns {Function} class\n*/\nfunction inherit() {\n    var args = arguments,\n        withMixins = isArray(args[0]),\n        hasBase = withMixins || isFunction(args[0]),\n        base = hasBase? withMixins? applyMixins(args[0]) : args[0] : emptyBase,\n        props = args[hasBase? 1 : 0] || {},\n        staticProps = args[hasBase? 2 : 1],\n        res = props.__constructor || (hasBase && base.prototype.__constructor)?\n            function() {\n                return this.__constructor.apply(this, arguments);\n            } :\n            hasBase?\n                function() {\n                    return base.apply(this, arguments);\n                } :\n                function() {};\n\n    if(!hasBase) {\n        res.prototype = props;\n        res.prototype.__self = res.prototype.constructor = res;\n        return extend(res, staticProps);\n    }\n\n    extend(res, base);\n\n    res.__parent = base;\n\n    var basePtp = base.prototype,\n        resPtp = res.prototype = objCreate(basePtp);\n\n    resPtp.__self = resPtp.constructor = res;\n\n    props && override(basePtp, resPtp, props);\n    staticProps && override(base, res, staticProps);\n\n    return res;\n}\n\ninherit.self = function() {\n    var args = arguments,\n        withMixins = isArray(args[0]),\n        base = withMixins? applyMixins(args[0], args[0][0]) : args[0],\n        props = args[1],\n        staticProps = args[2],\n        basePtp = base.prototype;\n\n    props && override(basePtp, basePtp, props);\n    staticProps && override(base, base, staticProps);\n\n    return base;\n};\n\nvar defineAsGlobal = true;\nif(typeof exports === 'object') {\n    module.exports = inherit;\n    defineAsGlobal = false;\n}\n\nif(typeof modules === 'object') {\n    modules.define('inherit', function(provide) {\n        provide(inherit);\n    });\n    defineAsGlobal = false;\n}\n\nif(typeof define === 'function') {\n    define(function(require, exports, module) {\n        module.exports = inherit;\n    });\n    defineAsGlobal = false;\n}\n\ndefineAsGlobal && (global.inherit = inherit);\n\n})(this);\n","/*!\n * node-inherit\n * Copyright(c) 2011 Dmitry Filatov <dfilatov@yandex-team.ru>\n * MIT Licensed\n */\n\nmodule.exports = require('./lib/inherit');\n","import { File } from './storage';\nimport {\n  TypedMessage,\n  messageType,\n  messageField,\n} from './realtime';\nimport inherit from 'inherit';\n\nexport const FileMessage = inherit(TypedMessage, /** @lends FileMessage.prototype */ {\n  /**\n   * 需要安装 [leancloud-realtime-typed-messages]{@link https://www.npmjs.com/package/leancloud-realtime-typed-messages} package\n   * @constructs\n   * @extends TypedMessage\n   * @param  {AV.File} file LeanCloud 存储 SDK 中的 AV.File 实例，且必须是已经保存到服务端上的 File 实例\n   * （如果是刚刚创建的，必须 save 后才能用于创建 FileMessage）\n   */\n  __constructor(file) {\n    if (!(file instanceof File)) {\n      throw new TypeError('file must be an AV.File');\n    }\n    if (typeof file.id !== 'string') {\n      throw new Error('file must be saved before used to create a Message');\n    }\n    this.__base();\n    this._file = file;\n    this._lcfile = {\n      objId: file.id,\n      url: file.url(),\n      metaData: Object.assign(file.metaData() || {}, {\n        name: file.name(),\n      }),\n    };\n  },\n  /**\n   * 获得 file 对象\n   * @return {AV.File}\n   */\n  getFile() {\n    return this._file;\n  },\n}, {\n  _parseFileFromRawData(data) {\n    if (!(data && data._lcfile)) {\n      throw new Error('malformed FileMessage content');\n    }\n    let id = data._lcfile.objId;\n    if (typeof id !== 'string') {\n      id = '';\n    }\n    const file = File.createWithoutData(id);\n    file.attributes = file.attributes || {};\n    file._url = file.attributes.url = data._lcfile.url;\n    file._metaData = file.attributes.metaData = data._lcfile.metaData || {};\n    if (data._lcfile.metaData) {\n      file._name = file.attributes.name = data._lcfile.metaData.name;\n    }\n    return file;\n  },\n  parse(json, message) {\n    const file = this._parseFileFromRawData(json);\n    return this.__base(json, message || new this(file));\n  },\n});\n\n\n/**\n * @name TYPE\n * @memberof FileMessage\n * @type Number\n * @static\n * @const\n */\nmessageType(-6)(FileMessage);\nmessageField('_lcfile')(FileMessage);\n","import { FileMessage } from './file-message';\nimport { messageType } from './realtime';\nimport inherit from 'inherit';\n\n/**\n * 需要安装 [leancloud-realtime-typed-messages]{@link https://www.npmjs.com/package/leancloud-realtime-typed-messages} package\n * 构造方法参数同 {@link FileMessage}\n * @class\n * @extends FileMessage\n */\nexport const ImageMessage = inherit(FileMessage);\n\n/**\n * @name TYPE\n * @memberof ImageMessage\n * @type Number\n * @static\n * @const\n */\nmessageType(-2)(ImageMessage);\n","import { FileMessage } from './file-message';\nimport { messageType } from './realtime';\nimport inherit from 'inherit';\n\n/**\n * 需要安装 [leancloud-realtime-typed-messages]{@link https://www.npmjs.com/package/leancloud-realtime-typed-messages} package\n * 构造方法参数同 {@link FileMessage}\n * @class\n * @extends FileMessage\n */\nexport const AudioMessage = inherit(FileMessage);\n\n/**\n * @name TYPE\n * @memberof AudioMessage\n * @type Number\n * @static\n * @const\n */\nmessageType(-3)(AudioMessage);\n","import { FileMessage } from './file-message';\nimport { messageType } from './realtime';\nimport inherit from 'inherit';\n\n/**\n * 需要安装 [leancloud-realtime-typed-messages]{@link https://www.npmjs.com/package/leancloud-realtime-typed-messages} package\n * 构造方法参数同 {@link FileMessage}\n * @class\n * @extends FileMessage\n */\nexport const VideoMessage = inherit(FileMessage);\n\n/**\n * @name TYPE\n * @memberof VideoMessage\n * @type Number\n * @static\n * @const\n */\nmessageType(-4)(VideoMessage);\n","import { GeoPoint } from './storage';\nimport {\n  TypedMessage,\n  messageType,\n  messageField,\n} from './realtime';\nimport inherit from 'inherit';\n\nexport const LocationMessage = inherit(TypedMessage, /** @lends LocationMessage.prototype */ {\n  /**\n   * 需要安装 [leancloud-realtime-typed-messages]{@link https://www.npmjs.com/package/leancloud-realtime-typed-messages} package\n   * @constructs\n   * @extends TypedMessage\n   * @param  {AV.GeoPoint} geoPoint LeanCloud 存储 SDK 中的 AV.GeoPoint 实例\n   */\n  __constructor(geoPoint) {\n    if (!(geoPoint instanceof GeoPoint)) {\n      throw new TypeError('geoPoint must be an AV.GeoPoint');\n    }\n    this.__base();\n    this._geoPoint = geoPoint;\n    const { latitude, longitude } = geoPoint;\n    this._lcloc = { latitude, longitude };\n  },\n  /**\n   * 获得 geoPoint 对象\n   * @return {AV.GeoPoint}\n   */\n  getLocation() {\n    return this._geoPoint;\n  },\n}, {\n  parse(json, message) {\n    const { latitude, longitude } = json._lcloc;\n    const geoPoint = new GeoPoint({ latitude, longitude });\n    return this.__base(json, message || new this(geoPoint));\n  },\n});\n\n/**\n * @name TYPE\n * @memberof LocationMessage\n * @type Number\n * @static\n * @const\n */\nmessageType(-5)(LocationMessage);\nmessageField('_lcloc')(LocationMessage);\n"],"names":["File","TypedMessage","this","messageType","messageField","GeoPoint"],"mappings":"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"}